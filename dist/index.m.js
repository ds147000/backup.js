var e=function(){function e(){}return e.handleLink=function(t){var n=t.href,r=e.getNewUrl(n,"LINK");return!e.isStop(n,r)&&(e.setNewLink(r),!0)},e.handleScript=function(t){var n=t.src,r=e.getNewUrl(n,"SCRIPT");return!e.isStop(n,r)&&(e.setNewScript(r),!0)},e.handleImage=function(t){var n=t.src,r=e.getNewUrl(n,"IMG");return!e.isStop(n,r)&&(t.src=r,!0)},e.setNewLink=function(t){var n;e.number+=1;var r=document.createElement("link");r.rel="stylesheet",r.href=t.trim(),null===(n=null===document||void 0===document?void 0:document.head)||void 0===n||n.appendChild(r)},e.setNewScript=function(t){var n;e.number+=1;var r=document.createElement("script");r.src=t.trim(),null===(n=null===document||void 0===document?void 0:document.body)||void 0===n||n.appendChild(r)},e.isStop=function(t,n){return e.number>=e.max||(!n||!t||t.trim()===n.trim())},e.getNewUrl=function(e,t){return e},e.number=0,e.max=40,e}();window.addEventListener("error",(function(t){var n=t.target;if(Boolean(n instanceof HTMLElement)){var r=!1;"LINK"===n.tagName.toLocaleUpperCase()&&(r=e.handleLink(n)),"SCRIPT"===n.tagName.toLocaleUpperCase()&&(r=e.handleScript(n)),"IMG"===n.tagName.toLocaleUpperCase()&&(r=e.handleImage(n)),r&&t.stopPropagation()}}),!0);export{e as default};
//# sourceMappingURL=index.m.js.map
